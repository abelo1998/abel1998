
int thermoPin=1;
float thermo=0;
float temp=0;
int tempint=0;
int tempmotor=0;

int motorPin=5;
int motorpwm=0;
int motorprint=0;

#include <LiquidCrystal.h>
LiquidCrystal lcd(12, 11, 10 , 9, 8, 7);




void setup() {
  lcd.begin(20, 4);
  lcd.setCursor(0, 0);
  lcd.print("University of Piraeus");
  lcd.setCursor(0, 1);
  lcd.print("Temperature      C");
  lcd.setCursor(0, 2);
  lcd.print("Air flow speed    %");
  lcd.setCursor(0, 3);

  pinMode(motorPin, OUTPUT);
}

void loop() {
  thermo=analogRead(thermoPin);


  temp=(thermo*500)/1023;
  tempint = (int) temp;
  tempmotor=tempint;
  if (tempmotor>=50){
    tempmotor=50;
  }
  if (tempmotor<=30){
    tempmotor=30;
  }
  motorpwm=map(tempmotor, 30, 50, 0, 255);
  analogWrite(motorPin,motorpwm);


  lcd.setCursor(17,1);
  lcd.print(tempint);

  motorprint=map(motorpwm, 0, 255, 0, 100);
  if (motorprint<10){
    lcd.setCursor(16,2);
    lcd.print(" ");
    lcd.setCursor(18,2);
    lcd.print(motorprint);
   }
   else if (motorprint<100){
    lcd.setCursor(16,2);
    lcd.print(" ");
    lcd.setCursor(17,2);
    lcd.print(motorprint);
   }
   else {
    lcd.setCursor(16,2);
    lcd.print(motorprint);
   }
}
